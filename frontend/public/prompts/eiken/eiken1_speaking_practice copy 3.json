{
  "session_id": "user_session_001",
  "contexts": {
    "conversation_history": [
      {"role": "system", "content": "You are an English EIKEN 1 examiner."},
      {"role": "user", "content": "Hello, I am ready to start."},
      {"role": "assistant", "content": "Great! Please tell me your name."}
    ]
  },
  "prompts": {
    "warmup": {
      "name": "warmup_conversation",
      "prompt": "SYSTEM: Ask the user 1-2 simple warm-up questions to test microphone and speaking. Keep questions short, friendly, and clear. USER should answer briefly. Return in JSON: { 'tts': ..., 'display_text': ..., 'next_action': ... }",
      "example": {
        "tts": "Hello! Can you tell me your favorite hobby?",
        "display_text": "Hello! What's your favorite hobby?",
        "next_action": "wait_for_answer"
      }
    },
    "questions": {
      "name": "generate_questions",
      "prompt": "SYSTEM: Generate 2-3 follow-up questions based on the user's speech transcript. First question: comprehension, second: opinion, third: broader/general. Return JSON: { 'questions': [ {'text':..., 'tts':...} ] }",
      "example": {
        "questions": [
          {"text": "Why do you think economic growth is important?", "tts": "Why do you think economic growth is important?"},
          {"text": "Can you give an example from your country?", "tts": "Can you give an example from your country?"}
        ]
      }
    },
    "evaluate": {
      "name": "evaluate_speech",
      "prompt": "SYSTEM: Using the transcript and audio metrics, assign scores 0-10 for TaskFulfilment, CoherenceCohesion, LexicalResource, GrammarRangeAccuracy, PronunciationIntonation, Interaction. Provide short justifications and structured JSON output. Include 'human_review_recommended' if needed.",
      "example": {
        "scores": {
          "TaskFulfilment": 8,
          "CoherenceCohesion": 7,
          "LexicalResource": 8,
          "GrammarRangeAccuracy": 7,
          "PronunciationIntonation": 8,
          "Interaction": 9
        },
        "justifications": [
          "TaskFulfilment: answered main points with minor omissions",
          "CoherenceCohesion: logical structure with adequate linkers",
          "LexicalResource: varied vocabulary with some advanced words"
        ],
        "human_review_recommended": false
      }
    },
    "feedback": {
      "name": "generate_feedback",
      "prompt": "SYSTEM: Based on evaluation scores and transcript, create structured feedback with: summary (1 sentence), 3 strengths (with concrete examples), 3 improvements with actionable tips, 3 short practice exercises. Return in JSON: { 'summary':..., 'strengths':[...], 'improvements':[...], 'practice_plan':[...], 'tts': ... }",
      "example": {
        "summary": "Overall, your performance was strong with clear reasoning and varied vocabulary.",
        "strengths": [
          "Used 'however' appropriately at 00:23",
          "Pronunciation mostly clear and natural",
          "Answered Q&A promptly with examples"
        ],
        "improvements": [
          "Check minor grammar errors in complex sentences",
          "Use more advanced linking words to improve cohesion",
          "Speak slightly slower to allow better pronunciation"
        ],
        "practice_plan": [
          "3x10 min PEE drills focusing on linking words",
          "Record and review one 2-min speech daily",
          "Practice pronunciation of challenging words weekly"
        ],
        "tts": "Overall, your performance was strong with clear reasoning and varied vocabulary. Three strengths are..."
      }
    }
  }
}
